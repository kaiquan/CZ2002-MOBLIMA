package model;

import java.time.LocalDate;
import java.time.format.DateTimeFormatter;
import java.util.Date;
import java.util.StringTokenizer;

public class Showtime {
	private String id;
	private Date dateTime;
	private Movie movie;
	private Cinema cinema;

	
	public Showtime(Date dateTime, Movie movie, Cinema cinema){
		setDateTime(dateTime);
		setMovie(movie);
		setCinema(cinema);
		
		LocalDate date = LocalDate.now();
		DateTimeFormatter formatter = DateTimeFormatter.ofPattern("YYYY-MM-DD-hh-mm");
		String dateString = date.format(formatter);
		
		StringTokenizer st = new StringTokenizer(cinema.getCineplex().getName(), " /n");

		String cinemaLetters="";
	    while (st.hasMoreTokens()) {
	        String word = st.nextToken();
	        word = word.toUpperCase();
	        char firstChar = word.charAt(0);
	        cinemaLetters+=firstChar;
	        cinemaLetters.toUpperCase();
	    }
		setId(cinema.getCinemaCode()+"-"+dateTime);
	}

	public String getId() {
		return id;
	}

	public void setId(String id) {
		this.id = id;
	}

	public Date getDateTime() {
		return dateTime;
	}

	public void setDateTime(Date dateTime2) {
		this.dateTime = dateTime2;
	}

	public Movie getMovie() {
		return movie;
	}

	public void setMovie(Movie movie) {
		this.movie = movie;
	}

	public Cinema getCinema() {
		return cinema;
	}

	public void setCinema(Cinema cinema) {
		this.cinema = cinema;
	}
	
}
